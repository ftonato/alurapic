<div class="page-header text-center">
	<h1>{{ foto.titulo }}</h1>
</div>

<p ng-show="mensagem.length" class="alert alert-info">{{ mensagem }}</p>

<form novalidate name="formulario" class="row" ng-submit="salvar()">
	<div class="col-md-6">
		<div class="form-group">
			<label for="">Título</label>
			<input type="text" ng-model="foto.titulo" name="titulo" class="form-control" required ng-maxlength="20">
      <span class="form-control alert-danger" ng-show="formulario.$submitted && formulario.titulo.$error.required">Título obrigatório</span>
      <span class="form-control alert-danger" ng-show="formulario.$submitted && formulario.titulo.$error.maxlength">Deve ter no máximo 20 caracteres</span>
		</div>

		<div class="form-group">
			<label for="">URL</label>
			<input type="text" ng-model="foto.url" name="url" class="form-control" required>
      <span class="form-control alert-danger" ng-show="formulario.$submitted && formulario.url.$error.required">URL obrigatório</span>
		</div>

		<div class="form-group">
			<label for="">Descrição</label>
			<textarea ng-model="foto.descricao" name="descricao" class="form-control"></textarea>
		</div>

    <div class="form-group">
      <label>Grupo</label>
      <select name="grupo"
        ng-model="foto.grupo" class="form-control" required
        ng-controller="GruposController"
        ng-options="grupo._id as (grupo.nome | uppercase) for grupo in grupos">
      <option value="">Escolha um grupo</option>
    </select>
    <span ng-show="formulario.$submitted && formulario.grupo.$error.required" class="form-control alert-danger">
      Grupo obrigatório
    </span>
  </div>

		<button ng-disabled="formulario.$invalid" type="submit" class="btn btn-primary">Salvar</button>
    <a href="/" meu-focus focado="focado" class="btn btn-default">Voltar</a>
	</div>
	<div class="col-md-6">
		<minha-foto url="{{ foto.url }}" titulo="{{ foto.titulo }}" ></minha-foto>
	</div>
</form>
